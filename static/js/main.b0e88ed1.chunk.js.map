{"version":3,"sources":["Components/Book.js","Components/Home.js","Components/Form.js","App.js","index.js"],"names":["Book","info","removeBook","pathForm","className","src","cover","alt","name","toUpperCase","slice","author","yearRelease","to","id","onClick","Home","list","serch","serchName","onFrom","length","CSSTransition","timeout","classNames","type","onChange","placeholder","TransitionGroup","filter","includes","trim","map","item","Form","props","e","setState","target","value","saveBook","state","match","params","valid","title","this","book","find","htmlFor","onHome","React","Component","withRouter","App","active","onForm","books","inForm","clearStorige","localStorage","clear","inHome","setItem","JSON","stringify","parse","getItem","activeClassName","in","onEnter","onExit","render","path","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.b0e88ed1.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport function Book({info, removeBook, pathForm}) {\r\n    return (\r\n        <div className=\"container_book\">\r\n            <div className=\"container_book_cover\">\r\n                <img className=\"book_cover\" src={info.cover} alt=\"Обложка\" />\r\n            </div>\r\n            <div className=\"container_book_description\">\r\n                <div className=\"name\">{info.name[0].toUpperCase()+info.name.slice(1,)}</div>\r\n                <div className=\"author\">{info.author}</div>\r\n                <div className=\"yearRelease\">{info.yearRelease}</div>\r\n            </div>\r\n            <div className=\"container_button_book\">\r\n                <div className=\"container_button_edit\">\r\n                    <Link to={`/edit/${info.id}`}><button className=\"button_edit\" onClick={() => pathForm(\"edit\")}>Редактировать</button></Link>\r\n                </div>\r\n                <div className=\"container_button_remove\">\r\n                    <button className=\"button_remove\" onClick={() => removeBook(info.id)}>Удалить</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Book } from \"./Book\";\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\n\r\nexport function Home({ removeBook, pathForm, info, serch, serchName, onFrom }) {\r\n    let list;\r\n    if (!info.length) {\r\n        list = <div className=\"list_empty\">Книжная полка пуста</div>\r\n    }\r\n    return (\r\n        <div className=\"container_home\">\r\n            <div className=\"container_button_add_book\">\r\n                <CSSTransition timeout={300} classNames=\"buuton\">\r\n                    <Link to=\"/add\"><button onClick={() => pathForm(\"add\")} className=\"button_add_book\">Добавить книгу</button></Link>\r\n                </CSSTransition>\r\n            </div>\r\n            <div className=\"container_input_search\">\r\n                <input type=\"text\" className=\"input_search\" onChange={serch} placeholder=\"Введите название книги\"></input>\r\n            </div>\r\n            <div className=\"container_list_books\">\r\n                <TransitionGroup>\r\n                    {list || info.filter(({ name }) => name.includes(serchName.trim())).map((item) =>\r\n                        <CSSTransition key={item.id} timeout={500} classNames=\"book\" >\r\n                            <Book info={item} removeBook={removeBook} pathForm={pathForm} />\r\n                        </CSSTransition>\r\n                    )}\r\n                </TransitionGroup>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nclass Form extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { name: \"\", author: \"\", yearRelease: \"\", cover: \"\", valid: \"\" };\r\n        this.title = \"Добавить книгу\";\r\n    }\r\n\r\n    onChange =(e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    saveBook = () => {\r\n        this.props.saveBook(this.state, this.props.match.params.id ? \"edit\" : \"add\")\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.match.params.id) {\r\n            const book = this.props.info.find(item => +this.props.match.params.id === item.id);\r\n            this.title = \"Редактировать книгу\";\r\n            this.setState(book);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container_form\">\r\n                <div className=\"container_form_title\">\r\n                    <div className=\"form_title\">{this.title}</div>\r\n                </div>\r\n                <div className=\"container_inputs_form\">\r\n                    <div className=\"container_input_name_form all_input\">\r\n                        <label htmlFor=\"input_name pad_b_20\">Наименование</label>\r\n                        <input className=\"input_name_form pad_b_20\" type=\"text\" id=\"input_name\" name=\"name\" value={this.state.name} onChange={this.onChange} placeholder=\"Введите наименование книги\"></input>\r\n                    </div>\r\n                    <div className=\"container_input_author_form all_input\">\r\n                        <label htmlFor=\"input_author\">Автор</label>\r\n                        <input className=\"input_author_form pad_b_20\" type=\"text\" id=\"input_author\" name=\"author\" value={this.state.author} onChange={this.onChange} placeholder=\"Введите имя автора\"></input>\r\n                    </div>\r\n                    <div className=\"container_input_yearRelease_form all_input\">\r\n                        <label htmlFor=\"input_yearRelease\">Год издания</label>\r\n                        <input className=\"input_yearRelease_form pad_b_20\" type=\"text\" id=\"input_yearRelease\" name=\"yearRelease\" value={this.state.yearRelease} onChange={this.onChange} placeholder=\"Введите год издания\"></input>\r\n                    </div>\r\n                    <div className=\"container_input_cover_form all_input\">\r\n                        <label htmlFor=\"input_cover\">Обложка</label>\r\n                        <input className=\"input_cover_form pad_b_20\" type=\"text\" id=\"input_cover\" name=\"cover\" value={this.state.cover} onChange={this.onChange} placeholder=\"Введите ссылку на изображение обложки\"></input>\r\n                    </div>\r\n                    <div className=\"container_buuton_form\">\r\n                        <div className=\"container_buuton_save\">\r\n                            <Link to=\"/\"><button className=\"buuton_save\" onClick={() => this.saveBook()}>Сохранить</button></Link>\r\n                        </div>\r\n                        <div className=\"container_buuton_cancel\">\r\n                            <Link to=\"/\"><button className=\"buuton_cancel\" onClick={() => this.props.onHome()}>Отменить</button></Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(Form);","import React from \"react\";\nimport { Switch, Route } from \"react-router\";\nimport { NavLink } from \"react-router-dom\";\nimport { Home } from \"./Components/Home\";\nimport { CSSTransition } from \"react-transition-group\";\nimport Form from \"./Components/Form\";\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      books: [{\n        name: \"Властелин колец. Возвращение короля\", author: \"Джон Р.Р. Толкин\", yearRelease: \"2018\",\n        cover: \"https://фантазеры.рф/wa-data/public/shop/products/05/03/20305/images/55626/55626.750x0.jpg\", id: 1\n      }],\n      serchName: \"\",\n      pathForm: \"\",\n      inHome: true,\n      inForm: false\n    };\n  }\n\n  onChange = (e) => {\n    this.setState(() => ({\n      serchName: e.target.value\n    }))\n  }\n\n  pathForm = (active) => {\n    this.onForm();\n    if (active === \"edit\") {\n      this.setState({\n        pathForm: \"/edit/:id\",\n      })\n    }\n    if (active === \"add\") {\n      this.setState({\n        pathForm: \"/add\",\n      })\n    }\n  }\n\n  saveBook = (info, active) => {\n    this.onHome();\n    if (active === \"add\") {\n      this.setState({\n        books: [...this.state.books, this.state.books.length ? { ...info, id: this.state.books.length + 1 } : { ...info, id: 1 }]\n      })\n    }\n    if (active === \"edit\") {\n      this.setState({\n        books: this.state.books.map(item => item.id === info.id ? { ...item, ...info } : item)\n      })\n    }\n  }\n\n  removeBook = (id) => {\n    this.setState({\n      books: this.state.books.filter(item => item.id !== id)\n    })\n  }\n\n  componentDidUpdate() {\n    localStorage.setItem(\"books\", JSON.stringify(this.state.books));\n  }\n  componentDidMount() {\n    if (localStorage.length) {\n      this.setState({\n        books: JSON.parse(localStorage.getItem(\"books\"))\n      })\n    }\n  }\n\n  onForm = () => {\n    this.setState({\n      inForm: true\n    })\n  }\n  onHome = () => {\n    this.setState({\n      inForm: false\n    });\n  }\n  clearStorige = () => {\n    localStorage.clear();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header>\n          <div className=\"header_container\">\n            <div className=\"header_title\"><NavLink to=\"/\" activeClassName=\"hurray\"><span>Книжная полка</span></NavLink></div>\n            <div className=\"clear_localstorige\">\n              <button className=\"button_clear_localstorige\" onClick={this.clearStorige}>Очистить ЛокалСторидж</button>\n            </div>\n          </div>\n        </header>\n        <div className=\"container\">\n          <main>\n            <CSSTransition in={this.state.inForm} timeout={1000} classNames=\"page\" onEnter={() => this.setState({ inHome: false })} onExit={() => this.setState({ inHome: true })}>\n              <Switch>\n                <Route render={props => <Home info={this.state.books} onFrom={this.onForm} pathForm={this.pathForm} removeBook={this.removeBook} serchName={this.state.serchName} serch={this.onChange} />} path=\"/\" exact></Route>\n                <Route render={props => <Form info={this.state.books} onHome={this.onHome} saveBook={this.saveBook} />} path={this.state.pathForm} exact></Route>\n              </Switch>\n            </CSSTransition>\n          </main>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./style.css\";\nimport {BrowserRouter as Router} from \"react-router-dom\";\n\nReactDOM.render(\n  <Router>\n      <App />\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}