(this.webpackJsonpbooks=this.webpackJsonpbooks||[]).push([[0],{40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(11),s=a.n(c),i=a(9),r=a(24),l=a(14),d=a(15),j=a(18),h=a(17),u=a(2),m=a(5),b=a(1);function p(e){var t=e.info,a=e.removeBook,n=e.pathForm;return Object(b.jsxs)("div",{className:"container_book",children:[Object(b.jsx)("div",{className:"container_book_cover",children:Object(b.jsx)("img",{className:"book_cover",src:t.cover,alt:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430"})}),Object(b.jsxs)("div",{className:"container_book_description",children:[Object(b.jsx)("div",{className:"name",children:t.name[0].toUpperCase()+t.name.slice(1)}),Object(b.jsx)("div",{className:"author",children:t.author}),Object(b.jsx)("div",{className:"yearRelease",children:t.yearRelease})]}),Object(b.jsxs)("div",{className:"container_button_book",children:[Object(b.jsx)("div",{className:"container_button_edit",children:Object(b.jsx)(m.b,{to:"/edit/".concat(t.id),children:Object(b.jsx)("button",{className:"button_edit",onClick:function(){return n("edit")},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})}),Object(b.jsx)("div",{className:"container_button_remove",children:Object(b.jsx)("button",{className:"button_remove",onClick:function(){return a(t.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})]})}var _=a(42),O=a(43);function v(e){var t,a=e.removeBook,n=e.pathForm,o=e.info,c=e.serch,s=e.serchName;e.onFrom;return o.length||(t=Object(b.jsx)("div",{className:"list_empty",children:"\u041a\u043d\u0438\u0436\u043d\u0430\u044f \u043f\u043e\u043b\u043a\u0430 \u043f\u0443\u0441\u0442\u0430"})),Object(b.jsxs)("div",{className:"container_home",children:[Object(b.jsx)("div",{className:"container_button_add_book",children:Object(b.jsx)(_.a,{timeout:300,classNames:"buuton",children:Object(b.jsx)(m.b,{to:"/add",children:Object(b.jsx)("button",{onClick:function(){return n("add")},className:"button_add_book",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443"})})})}),Object(b.jsx)("div",{className:"container_input_search",children:Object(b.jsx)("input",{type:"text",className:"input_search",onChange:c,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438"})}),Object(b.jsx)("div",{className:"container_list_books",children:Object(b.jsx)(O.a,{children:t||o.filter((function(e){return e.name.includes(s.trim())})).map((function(e){return Object(b.jsx)(_.a,{timeout:500,classNames:"book",children:Object(b.jsx)(p,{info:e,removeBook:a,pathForm:n})},e.id)}))})})]})}var x=a(13),f=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(x.a)({},e.target.name,e.target.value))},n.saveBook=function(){n.props.saveBook(n.state,n.props.match.params.id?"edit":"add")},n.state={name:"",author:"",yearRelease:"",cover:"",valid:""},n.title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443",n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.match.params.id){var t=this.props.info.find((function(t){return+e.props.match.params.id===t.id}));this.title="\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043d\u0438\u0433\u0443",this.setState(t)}}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"container_form",children:[Object(b.jsx)("div",{className:"container_form_title",children:Object(b.jsx)("div",{className:"form_title",children:this.title})}),Object(b.jsxs)("div",{className:"container_inputs_form",children:[Object(b.jsxs)("div",{className:"container_input_name_form all_input",children:[Object(b.jsx)("label",{htmlFor:"input_name pad_b_20",children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(b.jsx)("input",{className:"input_name_form pad_b_20",type:"text",id:"input_name",name:"name",value:this.state.name,onChange:this.onChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438"})]}),Object(b.jsxs)("div",{className:"container_input_author_form all_input",children:[Object(b.jsx)("label",{htmlFor:"input_author",children:"\u0410\u0432\u0442\u043e\u0440"}),Object(b.jsx)("input",{className:"input_author_form pad_b_20",type:"text",id:"input_author",name:"author",value:this.state.author,onChange:this.onChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0430\u0432\u0442\u043e\u0440\u0430"})]}),Object(b.jsxs)("div",{className:"container_input_yearRelease_form all_input",children:[Object(b.jsx)("label",{htmlFor:"input_yearRelease",children:"\u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f"}),Object(b.jsx)("input",{className:"input_yearRelease_form pad_b_20",type:"text",id:"input_yearRelease",name:"yearRelease",value:this.state.yearRelease,onChange:this.onChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f"})]}),Object(b.jsxs)("div",{className:"container_input_cover_form all_input",children:[Object(b.jsx)("label",{htmlFor:"input_cover",children:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430"}),Object(b.jsx)("input",{className:"input_cover_form pad_b_20",type:"text",id:"input_cover",name:"cover",value:this.state.cover,onChange:this.onChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043e\u0431\u043b\u043e\u0436\u043a\u0438"})]}),Object(b.jsxs)("div",{className:"container_buuton_form",children:[Object(b.jsx)("div",{className:"container_buuton_save",children:Object(b.jsx)(m.b,{to:"/",children:Object(b.jsx)("button",{className:"buuton_save",onClick:function(){return e.saveBook()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})}),Object(b.jsx)("div",{className:"container_buuton_cancel",children:Object(b.jsx)(m.b,{to:"/",children:Object(b.jsx)("button",{className:"buuton_cancel",onClick:function(){return e.props.onHome()},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})})]})]})]})}}]),a}(o.a.Component),N=Object(u.f)(f),k=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState((function(){return{serchName:e.target.value}}))},n.pathForm=function(e){n.onForm(),"edit"===e&&n.setState({pathForm:"/edit/:id"}),"add"===e&&n.setState({pathForm:"/add"})},n.saveBook=function(e,t){n.onHome(),"add"===t&&n.setState({books:[].concat(Object(r.a)(n.state.books),[n.state.books.length?Object(i.a)(Object(i.a)({},e),{},{id:n.state.books.length+1}):Object(i.a)(Object(i.a)({},e),{},{id:1})])}),"edit"===t&&n.setState({books:n.state.books.map((function(t){return t.id===e.id?Object(i.a)(Object(i.a)({},t),e):t}))})},n.removeBook=function(e){n.setState({books:n.state.books.filter((function(t){return t.id!==e}))})},n.onForm=function(){n.setState({inForm:!0})},n.onHome=function(){n.setState({inForm:!1})},n.clearStorige=function(){localStorage.clear()},n.state={books:[{name:"\u0412\u043b\u0430\u0441\u0442\u0435\u043b\u0438\u043d \u043a\u043e\u043b\u0435\u0446. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u043a\u043e\u0440\u043e\u043b\u044f",author:"\u0414\u0436\u043e\u043d \u0420.\u0420. \u0422\u043e\u043b\u043a\u0438\u043d",yearRelease:"2018",cover:"https://\u0444\u0430\u043d\u0442\u0430\u0437\u0435\u0440\u044b.\u0440\u0444/wa-data/public/shop/products/05/03/20305/images/55626/55626.750x0.jpg",id:1}],serchName:"",pathForm:"",inHome:!0,inForm:!1},n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(){localStorage.setItem("books",JSON.stringify(this.state.books))}},{key:"componentDidMount",value:function(){localStorage.length&&this.setState({books:JSON.parse(localStorage.getItem("books"))})}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("header",{children:Object(b.jsxs)("div",{className:"header_container",children:[Object(b.jsx)("div",{className:"header_title",children:Object(b.jsx)(m.c,{to:"/",activeClassName:"hurray",children:Object(b.jsx)("span",{children:"\u041a\u043d\u0438\u0436\u043d\u0430\u044f \u043f\u043e\u043b\u043a\u0430"})})}),Object(b.jsx)("div",{className:"clear_localstorige",children:Object(b.jsx)("button",{className:"button_clear_localstorige",onClick:this.clearStorige,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u041b\u043e\u043a\u0430\u043b\u0421\u0442\u043e\u0440\u0438\u0434\u0436"})})]})}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("main",{children:Object(b.jsx)(_.a,{in:this.state.inForm,timeout:1e3,classNames:"page",onEnter:function(){return e.setState({inHome:!1})},onExit:function(){return e.setState({inHome:!0})},children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{render:function(t){return Object(b.jsx)(v,{info:e.state.books,onFrom:e.onForm,pathForm:e.pathForm,removeBook:e.removeBook,serchName:e.state.serchName,serch:e.onChange})},path:"/",exact:!0}),Object(b.jsx)(u.a,{render:function(t){return Object(b.jsx)(N,{info:e.state.books,onHome:e.onHome,saveBook:e.saveBook})},path:this.state.pathForm,exact:!0})]})})})})]})}}]),a}(o.a.Component);a(40);s.a.render(Object(b.jsx)(m.a,{children:Object(b.jsx)(k,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.b0e88ed1.chunk.js.map